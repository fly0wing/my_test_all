package com.dudo.dailytest;

import java.util.Arrays;
import java.util.Comparator;

/**
 * 题目详情：
 * 输入一个正整数数组，把数组里的所有数字拼接成一个一个整数。输出能拼接成的数字中最小的一个。
 * 输入：
 * 输入一个正整数数组。如：{12,768,45}
 * 输出：
 * 输出这三个数字拼接成的数字中最小的一个。如：1245768
 * User: zk
 * Date: 13-8-6
 * Time: 上午12:31
 */
public class MinNumofArray {
    Integer[] arr;
    String[] arrStr;
    StringBuffer sb = new StringBuffer();

    public MinNumofArray(Integer[] arr) {
        this.arr = arr;
        this.convertToArray2();
    }

    public static void main(String[] args) {
        long a = System.currentTimeMillis();
//        MinNumofArray mma = new MinNumofArray(getArr());
        MinNumofArray mma = new MinNumofArray(new Integer[]{19,101});
        mma.print();
        long b = System.currentTimeMillis();
        System.out.println(b - a);
        //111214161819101103104106108109111113114116118120121123125126128130131133135137138140142143145147148150152154155157159160162164165167169171172174176177179181182184186188189191193194196198199221232426282920120320520620821021121321521621822022222322522722823023223323523723924024224424524724925025225425625725926126226426626726927127327427627827928128328428628829029129329529629831333536383003013033053073083103123133153173183203223243253273293303323343353373393413423443463473493513523543563583593613633643663683693713733753763783803813833853863883903923933953973984404143454648400402403405407409410412414415417419420422424426427429431432434436437439441443444446448449451453454456458460461463465466468470471473475477478480482483485487488490492494495497499505253555758500502504505507509511512514516517519521522524526528529531533534536538539541543545546548550551553555556558560562563565567568570572573575577579580582584585587589590592594596597599660626365676960160260460660760961161361461661861962162362462662863063163363563663864064164364564764865065265365565765866066266466566766967067267467567767968168268468668768969169269469669869977072747577797017037047067087097117137157167187207217237257267287307327337357377387407427437457477497507527547557577597607627647667677697717727747767777797817837847867887897917937947967988082848687898008018038058068088108118138158178188208228238258278288308328348358378398409919294969799
//101103104106108109111111131141161181212012112312512612813013113313513713814140142143145147148150152154155157159161601621641651671691711721741761771791818118218418618818919191193194196198199220120320520620821210211213215216218220222223225227228232302322332352372392424024224424524724925025225425625725926261262264266267269271273274276278279282812832842862882929029129329529629830030130330530730831310312313315317318320322324325327329333303323343353373393413423443463473493535135235435635835936361363364366368369371373375376378383803813833853863883903923933953973984404004024034054074094141041241441541741942042242442642742943431432434436437439441443444446448449454514534544564584646046146346546646847047147347547747848480482483485487488490492494495497499505005025045055075095115125145165175195252152252452652852953531533534536538539541543545546548555505515535555565585605625635655675685757057257357557757958580582584585587589590592594596597599660601602604606607609611613614616618619626216236246266286363063163363563663864064164364564764865650652653655657658660662664665667669676706726746756776796816826846866876896969169269469669869977070170370470670870971171371571671872720721723725726728730732733735737738747407427437457477497575075275475575775976076276476676776977771772774776777779781783784786788789797917937947967988080080180380580680881081181381581781882820822823825827828830832834835837839848408687899919294969799

        //123233059
    }

    private static Integer[] getArr2() {
        return new Integer[]{12, 59, 32, 330};
    }

    private static Integer[] getArr() {
        return new Integer[]{2,
                4,
                6,
                7,
                9,
                11,
                12,
                14,
                16,
                18,
                19,
                21,
                23,
                24,
                26,
                28,
                29,
                31,
                33,
                35,
                36,
                38,
                40,
                41,
                43,
                45,
                46,
                48,
                50,
                52,
                53,
                55,
                57,
                58,
                60,
                62,
                63,
                65,
                67,
                69,
                70,
                72,
                74,
                75,
                77,
                79,
                80,
                82,
                84,
                86,
                87,
                89,
                91,
                92,
                94,
                96,
                97,
                99,
                101,
                103,
                104,
                106,
                108,
                109,
                111,
                113,
                114,
                116,
                118,
                120,
                121,
                123,
                125,
                126,
                128,
                130,
                131,
                133,
                135,
                137,
                138,
                140,
                142,
                143,
                145,
                147,
                148,
                150,
                152,
                154,
                155,
                157,
                159,
                160,
                162,
                164,
                165,
                167,
                169,
                171,
                172,
                174,
                176,
                177,
                179,
                181,
                182,
                184,
                186,
                188,
                189,
                191,
                193,
                194,
                196,
                198,
                199,
                201,
                203,
                205,
                206,
                208,
                210,
                211,
                213,
                215,
                216,
                218,
                220,
                222,
                223,
                225,
                227,
                228,
                230,
                232,
                233,
                235,
                237,
                239,
                240,
                242,
                244,
                245,
                247,
                249,
                250,
                252,
                254,
                256,
                257,
                259,
                261,
                262,
                264,
                266,
                267,
                269,
                271,
                273,
                274,
                276,
                278,
                279,
                281,
                283,
                284,
                286,
                288,
                290,
                291,
                293,
                295,
                296,
                298,
                300,
                301,
                303,
                305,
                307,
                308,
                310,
                312,
                313,
                315,
                317,
                318,
                320,
                322,
                324,
                325,
                327,
                329,
                330,
                332,
                334,
                335,
                337,
                339,
                341,
                342,
                344,
                346,
                347,
                349,
                351,
                352,
                354,
                356,
                358,
                359,
                361,
                363,
                364,
                366,
                368,
                369,
                371,
                373,
                375,
                376,
                378,
                380,
                381,
                383,
                385,
                386,
                388,
                390,
                392,
                393,
                395,
                397,
                398,
                400,
                402,
                403,
                405,
                407,
                409,
                410,
                412,
                414,
                415,
                417,
                419,
                420,
                422,
                424,
                426,
                427,
                429,
                431,
                432,
                434,
                436,
                437,
                439,
                441,
                443,
                444,
                446,
                448,
                449,
                451,
                453,
                454,
                456,
                458,
                460,
                461,
                463,
                465,
                466,
                468,
                470,
                471,
                473,
                475,
                477,
                478,
                480,
                482,
                483,
                485,
                487,
                488,
                490,
                492,
                494,
                495,
                497,
                499,
                500,
                502,
                504,
                505,
                507,
                509,
                511,
                512,
                514,
                516,
                517,
                519,
                521,
                522,
                524,
                526,
                528,
                529,
                531,
                533,
                534,
                536,
                538,
                539,
                541,
                543,
                545,
                546,
                548,
                550,
                551,
                553,
                555,
                556,
                558,
                560,
                562,
                563,
                565,
                567,
                568,
                570,
                572,
                573,
                575,
                577,
                579,
                580,
                582,
                584,
                585,
                587,
                589,
                590,
                592,
                594,
                596,
                597,
                599,
                601,
                602,
                604,
                606,
                607,
                609,
                611,
                613,
                614,
                616,
                618,
                619,
                621,
                623,
                624,
                626,
                628,
                630,
                631,
                633,
                635,
                636,
                638,
                640,
                641,
                643,
                645,
                647,
                648,
                650,
                652,
                653,
                655,
                657,
                658,
                660,
                662,
                664,
                665,
                667,
                669,
                670,
                672,
                674,
                675,
                677,
                679,
                681,
                682,
                684,
                686,
                687,
                689,
                691,
                692,
                694,
                696,
                698,
                699,
                701,
                703,
                704,
                706,
                708,
                709,
                711,
                713,
                715,
                716,
                718,
                720,
                721,
                723,
                725,
                726,
                728,
                730,
                732,
                733,
                735,
                737,
                738,
                740,
                742,
                743,
                745,
                747,
                749,
                750,
                752,
                754,
                755,
                757,
                759,
                760,
                762,
                764,
                766,
                767,
                769,
                771,
                772,
                774,
                776,
                777,
                779,
                781,
                783,
                784,
                786,
                788,
                789,
                791,
                793,
                794,
                796,
                798,
                800,
                801,
                803,
                805,
                806,
                808,
                810,
                811,
                813,
                815,
                817,
                818,
                820,
                822,
                823,
                825,
                827,
                828,
                830,
                832,
                834,
                835,
                837,
                839,
                840};
    }

    private void print() {
        System.out.println(this.sb.toString());
    }

    private void convertToArray() {
        String[] ts = new String[arr.length];
        for (int i = 0; i < arr.length; i++) {
            ts[i] = arr[i] + "";
        }
        Arrays.sort(ts);
        this.arrStr = ts;
        this.concat();
    }

    private void convertToArray2() {
        Arrays.sort(this.arr, new Comparator<Integer>() {
            @Override
            public int compare(Integer o1, Integer o2) {
                if (o1 == null && o2 == null) return 0;
                if (o1 == null) return -1;
                if (o2 == null) return 1;
                if (o1==0||o2==0){
                    return o1-o2;
                }
                int h1 = (int) Math.log10(o1);
                int radix1 = (int) Math.pow(10, h1);
                int highest1 = o1 / radix1;
                int rem1 = o1 % radix1;
                int h2 = (int) Math.log10(o2);
                int radix2 = (int) Math.pow(10, h2);
                int highest2 = o2 / radix2;
                int rem2 = o2 % radix2;
                if (highest1 - highest2 == 0 && highest1 != 0)
                    compare(rem1, rem2);
                return highest1 - highest2;
            }
        });

        String[] ts = new String[arr.length];
        for (int i = 0; i < arr.length; i++) {
            ts[i] = arr[i] + "";
        }
        this.arrStr = ts;
        this.concat();
    }

    private boolean concat() {
        if (this.arrStr == null) return false;
        for (String s : this.arrStr) {
            if (s == null) continue;
            sb.append(s).append(",");
        }
        return true;
    }
}
